<%# using clipboard.js: https://clipboardjs.com/ %>
<%# shared modal(s) %>
<% if @result.respond_to?(:cite) && @result.cite %>
<%= render partial: 'shared/modal', locals: {:modal_id => 'cite_modal', :title => t('actions.cite'),
                    :modal_body => @result.cite} %>
<%# using clipboard.js: https://clipboardjs.com/ %>
<script type ="text/javascript" >setupCite("cite_modal", "<%= t('actions.clipboard') %>")</script>
<% end %>
<% if defined?(@request) && !@request.nil? %>
   <% req = render partial: 'shared/request_form' %>
  <%= render partial: 'shared/modal', locals: {:modal_id => 'request_modal', :title => t('actions.request'),
      :modal_body => req } %>
<script type ="text/javascript" >
(function($) {
    var $modal = $('#request_modal');
    $modal.find('.action-btn').hide();

    $(".noscript").hide();
    $('#request_sub').submit(function(e) {
        $modal.modal('show');
        return false;
    });
})(jQuery);
</script>
<% end %>
